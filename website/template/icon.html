{% extends '_base.html' %}

{% block head %}
<link rel="stylesheet" href="../static/template/icon.css?v={{_v}}">
<script type="module">
import { Icon } from '../static/ui/icon.js';

class IconGrid extends HTMLElement {
    constructor() {
        super();
    }

    render(icon) {
        this.innerHTML = `
            <el-icon theme="adwaita" name="${icon}"></el-icon>
            <div class="name">${icon}</div>
        `
    }
}

class IconManager extends HTMLElement {
    constructor() {
        super();
        this.icons = [{% for icon in icons %}'{{icon}}',{% endfor %}];
    };

    async connectedCallback() {
        for (let icon of this.icons) {
            let icon_grid = document.createElement('el-icon-grid');
            icon_grid.render(icon);
            this.appendChild(icon_grid);
        };
    };
}


window.addEventListener('load', () => {
    customElements.define('el-icon', Icon);
    customElements.define('el-icon-grid', IconGrid);
    customElements.define('el-icon-manager', IconManager);
})

</script>
{% endblock %}

{% block body %}
<el-icon-manager id="icons"></el-icon-manager>
{% endblock body %}